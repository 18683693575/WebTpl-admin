<!DOCTYPE html>
<html>

  <head>
    <meta charset="UTF-8">
    <title>注册表单</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="../../src/css/index.css" />
    <link rel="stylesheet" href="../../src/layui/css/layui.css" />
  </head>

  <body>
    <div class="register-box w-1200 mgauto">
      <div class="register-box">
        <my-component></my-component>
      </div>
    </div>
    <script src="../../src/js/lib/vue.js"></script>
    <script src="../../src/layui/layui.js"></script>
    <script src="../../src/js/components/user.js"></script>
    <script>
      // 注册组件
      Vue.component('my-component', regComponent);
      new Vue({
        el: '.register-box'
      });
      layui.use(['form', 'jquery'], function() {
        var form = layui.form();
        var pwd1, pwd2;
        form.verify({
          username: function(value) {
            if(!new RegExp("^[a-zA-Z0-9_\u4e00-\u9fa5\\s·]+$").test(value)) {
              return '用户名不能有特殊字符';
            }
            if(/(^\_)|(\__)|(\_+$)/.test(value)) {
              return '用户名首尾不能出现下划线\'_\'';
            }
            if(/^\d+\d+\d$/.test(value)) {
              return '用户名不能全为数字';
            }
          },
          passF: function(value) {
            pwd1 = value;
            console.log("第一次" + pwd1);
            if(/(?!^\[0-9]+$)(?!^[a-zA-Z]+$)(?!^[_#@]+$).{6,20}/.test(value)) {
              return '密码至少6位'
            }
          },
          passS: function(value) {
            pwd2 = value;
            console.log("第二次" + pwd2);
            if(pwd1 != pwd2) {
              return '两次输入的密码不一致'
            }
          }
        });
        //监听提交
        form.on('submit(btn-submit)', function(data) {
          layer.alert(JSON.stringify(data.field), {
            title: '最终的提交信息'
          })
          return false;
        });
      });
    </script>
  </body>

</html>