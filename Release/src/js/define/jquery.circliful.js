(function(i){i.fn.circliful=function(e){var t=i.extend({foregroundColor:"#556b2f",backgroundColor:"#eee",fillColor:false,width:15,dimension:200,size:15,percent:50,endPercent:100,showValue:"showValue",animationStep:1},e);return this.each(function(){var e="";var a="";var n="";var s="";var d=0;var h=0;var f=100;var l="";var r="";var c="";var o=0;var p="";i(this).addClass("circliful");p=t.showValue;if(i(this).data("dimension")!=undefined){e=i(this).data("dimension")}else{e=t.dimension}if(i(this).data("width")!=undefined){s=i(this).data("width")}else{s=t.width}if(i(this).data("fontsize")!=undefined){d=i(this).data("fontsize")}else{d=t.size}if(i(this).data("percent")!=undefined){h=i(this).data("percent")/100;f=i(this).data("percent")}else{h=t.percent/100;f=t.endPercent}if(i(this).data("fgcolor")!=undefined){l=i(this).data("fgcolor")}else{l=t.foregroundColor}if(i(this).data("bgcolor")!=undefined){r=i(this).data("bgcolor")}else{r=t.backgroundColor}if(i(this).data("animation-step")!=undefined){o=parseFloat(i(this).data("animation-step"))}else{o=t.animationStep}if(i(this).data("text")!=undefined){a=i(this).data("text");if(i(this).data("icon")!=undefined){c='<i class="fa '+i(this).data("icon")+'"></i>'}if(i(this).data("type")!=undefined){S=i(this).data("type");if(S=="half"){i(this).append('<span class="circle-text-half">'+c+a+"</span>");i(this).find(".circle-text-half").css({"line-height":e/1.45+"px","font-size":d+"px"})}else{i(this).append('<span class="circle-text">'+c+a+"</span>");i(this).find(".circle-text").css({"line-height":e+"px","font-size":d+"px"})}}else{i(this).append('<span class="circle-text">'+c+a+"</span>");i(this).find(".circle-text").css({"line-height":e+"px","font-size":d+"px"})}}else if(i(this).data("icon")!=undefined){}if(i(this).data("info")!=undefined){n=i(this).data("info");if(i(this).data("type")!=undefined){S=i(this).data("type");if(S=="half"){i(this).append('<span class="circle-info-half">'+n+"</span>");i(this).find(".circle-info-half").css({"line-height":e*.9+"px"})}else{i(this).append('<span class="circle-info">'+n+"</span>");i(this).find(".circle-info").css({"line-height":e*1.25+"px"})}}else{i(this).append('<span class="circle-info">'+n+"</span>");i(this).find(".circle-info").css({"line-height":e*1.25+"px"})}}i(this).width(e+"px");var v=i("<canvas></canvas>").attr({width:e,height:e}).appendTo(i(this)).get(0);var u=v.getContext("2d");var g=v.width/2;var x=v.height/2;var m=h*360;var w=m*(Math.PI/180);var P=v.width/2.5;var y=2.3*Math.PI;var M=0;var C=false;var I=o===0?f:0;var b=Math.max(o,0);var z=Math.PI*2;var k=Math.PI/2;var S="";var V=false;if(i(this).data("type")!=undefined){S=i(this).data("type");if(S=="half"){var y=2*Math.PI;var M=3.13;var z=Math.PI*1;var k=Math.PI/.996}}if(i(this).data("fill")!=undefined){V=i(this).data("fill")}else{V=t.fillColor}function F(e){i(p).html(parseInt(e*100));if(e<.8){l="#0c99d9"}else{l="#f75656"}u.clearRect(0,0,v.width,v.height);u.beginPath();u.arc(g,x,P,M,y,false);u.lineWidth=s-1;u.strokeStyle=r;u.stroke();if(V){u.fillStyle=V;u.fill()}u.beginPath();u.arc(g,x,P,-k,z*e-k,false);u.lineWidth=s;u.strokeStyle=l;u.stroke();if(I<f){I+=b;requestAnimationFrame(function(){setTimeout(function(){F(Math.min(I,f)/100)},40)})}}F(I/100)})}})(jQuery);